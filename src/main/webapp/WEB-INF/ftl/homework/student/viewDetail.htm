<#include "header.htm" parse="true" encoding="UTF-8" >
<style>
/*头部一直显示在最上面*/
.content { padding-top:0px;}
.fixed{position:fixed; top:0; width:1000px;}
.largermargin {margin-top:57px;}
/*头部*/
.paper_tpct div {display:inline-block;line-height:40px;font-size:20px;margin-right:20px;}
.paper_tpcmlx2 img.stuscoreimg {width:32px;height:32px}

/*使用做卷部分的样式*/
.netexamview-quesoperates {width:995px; height:40px; margin-top:-15px; border-left:1px solid #CCCCCC; background-color:#eff2f9;}
.netexamview-operate {width:58px; height:30px; line-height:30px; float:right; margin-right:40px;}
.netexamview-operate .markques {padding-left:23px; background:url("<@spring.url '/images/examsystem/push_pin.png'/>") no-repeat; color:#888888;}
.netexamview-operate .cancelquesmark {padding-left:23px; background:url("<@spring.url '/images/examsystem/push_pin.png'/>") no-repeat; color:#FF0000;}
.netexamview-markdiv {height:0px; margin-left:960px;}
.netexamview-markimg {width:60px; height:60px; margin-top:-8px;}

/*本题答案*/
.paperx_btda {min-height:32px;padding:10px 0;}
.tip_span{display:inline-block;width:40px;height:20px;color:#ACABA8;margin-right:20px;padding-left:22px;}
.viewanaly {cursor:pointer; color:#0DA0FF; font-weight:500; float:right;}
.analy_divs {margin-bottom:20px;}
.analy-left {float:left;margin-top:5px;}
.analy-right {width:660px;min-height:23px;line-height:23px;font-size:14px;word-wrap:break-word;float:left;}
.analys_container {display:none; padding-top:10px;}
.analys-analy {padding-top:10px;border-top:1px dashed #ddd;}
.viewdetailanalys-analycontainer {margin-left:30px;}
.lineContent {text-decoration:underline;}
.correct_student_answer{padding-top:30px;padding-bottom:30px}

.viewdetail-duicuoimg {float:left;margin-left:30px;}
.viewdetail-answers {height:32px;line-height:32px;padding-left:20px;float:left;}
.viewdetail-title {font-size:14px;font-weight:bold;margin-top:10px;margin-bottom:20px;margin-left:30px;}
.viewdetail-gradecontainer {float:left;margin-left:32px;}
.viewdetail-commentcontainer .viewdetail-title {float:left;}
.paperx_line_tjx .viewdetail-gradecontainer {margin-left:25px;}
.paperx_line_tjx .viewdetail-gradecontainer {margin-top:10px;}
.cleanBoth {clear:none;}
.viewdetail-stuanswers .paperx_line_tjx .cleanBoth {margin-left:-10px;}
.viewdetail-gradecontainer .struct-grade-correct, .viewdetail-gradecontainer .struct-grade-false {float:left;}
.viewdetail-gradecontainer .struct-grade-score {width:35px;height:20px;line-height:20px;margin-top:2px;float:left;text-align:center;}
.viewdetail-openrefer {padding-right:15px;text-align:right;color:#0099FF;margin-left:820px;}
.viewdetail-openrefer span {cursor:pointer;}
.viewdetail-referanswer {padding-top:10px;border-top:1px dashed #DDDDDD;}
.test_box5 {float:left;margin-left:5px;}
.viewdetail-referanswer .test_box5 {margin-left:68px;}
.viewdetail-commentcontainer {padding-top:10px;border-top:1px dashed #ddd;}

.viewdetail-statistic {background:url("<@spring.url '/images/examsystem/graph.png' />") no-repeat;}
.viewdetail-analy {background:url("<@spring.url '/images/examsystem/article.png' />") no-repeat;}
.viewdetail-knowledge {float:left; background:url("<@spring.url '/images/examsystem/light.png' />") no-repeat;}
.viewdetail-doubtopts {background:url("<@spring.url '/images/examsystem/question.png' />") no-repeat;}
.viewdetail-hwcommentwrap {margin-bottom:20px;padding:20px 0 20px 30px;background-color:#f6f6f6;border:1px solid #ccc;}
.viewdetail-starwrap > div {float:left;}
.viewdetail-tip {padding-top:6px;font-size:14px;font-weight:bold;margin-right:10px;}
.viewdetail-hwcomment {width:542px;min-height:50px;line-height:23px;}
.ques_collect, .ques_cancelcollect {margin-right:15px;}
/*录音*/
.recorderwrap {margin-left:80px;}
.viewdetail-commentcontainer .recorderwrap {margin-top:-15px;}
.deletewav {display:none;}
.viewdetail-hwcommentwrap .jp-gui.jp-interface {background:#f6f6f6;}
</style>
<!--[if IE 6]>
<style type="text/css">
html{overflow:hidden;}
body{height:100%;overflow:auto;}
.fixed{position:absolute;top:expression(eval(document.body.scrollTop + 25));}
</style>
<![endif]-->
<div class="content">
<div class="paper_tpct">
	<div style="width:200px;">${hwInfo.hw_name}</div>
	<div class="nofl"></div>
</div>
<div class="paper_top">
	<div class="paper_tpcm">
		<div class="paper_tpcml">
			<div class="paper_tpcmlx2">
				<div class="examinfo-container">
					<div class="examinfo">
						科目： <span style="color:#000;margin-right:1px;">${hwInfo.sort_name}</span>
					</div>
				</div>
				<div style="float:left; margin-left:20px;">
					<div style="float:left; font-size:15px; color:#666;">得分：</div>
					<div style="float:left; margin-top:-10px;">
						<img class='stuscoreimg' src="<@spring.url '/images/star-empty.png'/>" />
						<img class='stuscoreimg' src="<@spring.url '/images/star-empty.png'/>" />
						<img class='stuscoreimg' src="<@spring.url '/images/star-empty.png'/>" />
						<img class='stuscoreimg' src="<@spring.url '/images/star-empty.png'/>" />
						<img class='stuscoreimg' src="<@spring.url '/images/star-empty.png'/>" />
					</div>
				</div>
			</div>
		</div>
		
		<div class="paper_tpcmr">
			<label style="float:right;margin-right:8px;"><button type="button" id="Quit" class="chooshine-cancel" style="width:50px;background-color:#f5f5f5;">退出</button></label>
			<div class="nofl"></div>
		</div>
	</div>
</div>
<#-- 下面的div用于消除滚动时闪屏问题 -->
<div style="padding-top:20px;"></div>

<div class="text_sju">
	<div class="paperx_comx">
		<ul id="QuestionsUl">
			<#if qiMap??>
				<#list qiMap?keys as oneKey>
					<#assign qi=qiMap[oneKey]>
					<#if oneKey?starts_with("normal")>
						<li id="${qi.ques_id?c}" questype="${qi.QUES_TYPE?c}">
							<div class="paperx_tl">
								<dl>
									<dt>
										<div class="allNum" mTopic=${qi.M_TOPIC}>${qi.M_TOPIC}</div>
										<div type="title" class="paperx_tlxr" quesid=${qi.QUES_ID?c}>
											<div type='title' class='ttxt test_box' >
												${qi.QUES_CONTENT}
											</div>
										</div>
										<div class="nofl"></div>
									</dt>
									<#if qi.QUES_TYPE=='1' || qi.QUES_TYPE=='2'>
										<#list qi.OPT_CONTENT as optContent>
											<#list qi.OPT_ID as optId>
											    <#if optContent_index==optId_index>
													<dd class="test_box2_bgc">
														<div class="pap_tlt">${qi.OPT_NO[optId_index]+"."}</div>
														<div type="option" class="pap_tct questionItme" optid=${optId?c}>
															<div class='ttxt test_box2'>${optContent}</div>
														</div>
														<div class="nofl"></div>
													</dd>
												</#if>
											</#list>
										</#list>
									</#if>
								</dl>
								<div class="paperx_btda">
									<#-- 普通小题 -->
										<#if qi.QUES_TYPE!='4' && qi.QUES_TYPE!='5'>
											<div class="viewdetail-stuanswers">
												<#if qi.STUDENT_ANSWER=="@#@#">
												<img class="viewdetail-duicuoimg" src="<@spring.url '/images/examsystem/gradePaper_right.png'/>"/>
												<div class="viewdetail-answers">
													正确答案是 <span>${qi.QUES_REFER ?replace("@@", "、")}</span>，回答正确，作答用时${qi.format_time}
												</div>
												<#else>
												<img class="viewdetail-duicuoimg" src="<@spring.url '/images/examsystem/gradePaper_fault.png'/>" />
												<div class="viewdetail-answers">
													<#if qi.STUDENT_ANSWER?? && qi.STUDENT_ANSWER!="">
													回答是 <span>${qi.STUDENT_ANSWER ?replace("@@", "、")}</span>，
													正确答案是 <span>${qi.QUES_REFER ?replace("@@", "、")}</span>，
													作答用时${qi.format_time}
													<#else>
													你未作答，正确答案是 <span>${qi.QUES_REFER ?replace("@@", "、")}</span>，作答用时${qi.format_time}
													</#if>
												</div>
												</#if>
												
												<div class="nofl"></div>
												<div class="viewdetail-openrefer">
												<#if qi.fav_flag==0>
													<a class="ques_collect">收藏</a>
												<#else>
													<a class="ques_cancelcollect">取消</a>
												</#if>
													<span class="struct-opencmd">展开解析▼</span>
												</div>
											</div>
										<#elseif qi.QUES_TYPE=='4'>
											<div class="viewdetail-stuanswers">
												<div class="viewdetail-title">学生答案（作答用时${qi.format_time}）：</div>
												<div class="paperx_tjx paperx_line_tjx">
													<#assign index3=0 > <#--填空题的选项号索引-->
													<#if qi.STU_OSCORE??>
														<#assign stuOScoreArr=qi.STU_OSCORE ?split(",")>
													</#if>
													<#list qi.OPT_NO as l>
													<div class="paperxt_tjxb2">
														<div class="viewdetail-gradecontainer struct-gradecontainer">
															<#if stuOScoreArr?? && stuOScoreArr[l_index]==qi.O_SCORE[l_index]>
																<img alt="对" title="对" class="struct-grade-correct" src="<@spring.url '/images/examsystem/gradePaper_right.png'/>" />
															<#else>
																<img alt="错" title="错" class="struct-grade-false" src="<@spring.url '/images/examsystem/gradePaper_fault.png'/>" />
															</#if>
														</div>
														<div class="cleanBoth">
															<span class="tkNum">${l}</span>
															<#assign lineContent="">
															<#if qi.STUDENT_ANSWER??>
																<#list qi.STUDENT_ANSWER?split("@@") as sa>
																	<#if sa?starts_with(l+"##")>
																		<#assign lineContent=sa?substring(sa?index_of("##")+2)>
																	</#if>
																</#list>
															</#if>
															<div class='test_box4 test_bg' optId="${qi.OPT_ID[l_index]?c}"><#if lineContent!="">${lineContent}<#else>你未作答</#if></div>
														</div>
														<div class="nofl"></div>
													</div>
													<#assign index3=index3+1>
													</#list>
												</div>
												<div class="nofl"></div>
												<div class="viewdetail-openrefer">
												<#if qi.fav_flag==0>
													<a class="ques_collect">收藏</a>
												<#else>
													<a class="ques_cancelcollect">取消</a>
												</#if>
													<span class="struct-opencmd">展开解析▼</span>
												</div>
											</div>
										<#elseif qi.QUES_TYPE=='5'>
											<div class="viewdetail-stuanswers">
												<div class="viewdetail-title">学生答案（作答用时${qi.format_time}）：</div>
												<div>
													<div class="paperxt_tjxb2">
														<div class="cleanBoth">
															<div class="viewdetail-gradecontainer">
																<#if qi.STU_SCORE=qi.SCORE>
																	<img alt="对" title="对" class="struct-grade-correct" src="<@spring.url '/images/examsystem/gradePaper_right.png'/>" />
																<#else>
																	<img alt="错" title="错" class="struct-grade-false" src="<@spring.url '/images/examsystem/gradePaper_fault.png'/>" />
																</#if>
															</div>
															<div class='test_box5 test_bg'><#if qi.STUDENT_ANSWER!="">${qi.STUDENT_ANSWER}<#else>你未作答</#if></div>
														</div>
													</div>
												</div>
												<div class="nofl"></div>
												<div class="viewdetail-openrefer">
													<#if qi.fav_flag==0>
														<a class="ques_collect">收藏</a>
													<#else>
														<a class="ques_cancelcollect">取消</a>
													</#if>
													<span class="struct-opencmd">展开解析▼</span>
												</div>
											</div>
										</#if>
										<!-- 小题解析 -->
										<div class="analys_container">
											<#if qi.QUES_TYPE=='4'>
											<div class="viewdetail-referanswer">
												<div class="viewdetail-title">参考答案：</div>
												<div class="paperx_tjx paperx_line_tjx">
													<#assign index3=-1 > <#--填空题的选项号索引-->
													<#list qi.OPT_REFER as l>
													<#assign index3=index3+1>
													<div class="paperxt_tjxb2">
														<div class="cleanBoth">
															<span class="tkNum">${qi.OPT_NO[index3]}</span>
															<div class='test_box4'>${l}</div>
														</div>
													</div>
													</#list>
												</div>
												<div class="nofl"></div>
											</div>
											<#elseif qi.QUES_TYPE=='5'>
											<div class="viewdetail-referanswer">
												<div class="viewdetail-title">参考答案：</div>
												<div>
													<div class="paperxt_tjxb2">
														<div class="cleanBoth">
															<div class='test_box5 viewdetail-refer-type5'>${qi.QUES_REFER}</div>
														</div>
													</div>
												</div>
												<div class="nofl"></div>
											</div>
											</#if>
											
											<div class="analys-analy">
												<div class="viewdetailanalys-analycontainer">
													<!-- 统计 -->
													<div class="analy_divs">
														<div class="analy-left"><span class="tip_span viewdetail-statistic">统计</span></div>
														<div class="analy-right">
															<span>本题共被作答${qi.ques_total_num}次，正确率为${qi.CORRECT_PERCENT}
																<!-- 对易错项的处理，只有单选和多选有易错项 -->
																<#if qi.QUES_TYPE=='1' || qi.QUES_TYPE=='2'>
																	<#if qi.ERROR_NUM!=0>
																		，易错项为${qi.EASY_ERROR_OPT}
																	<#else>
																		，暂无易错项
																	</#if>
																</#if>
															</span>
														</div>
														<div class="nofl"></div>
													</div>
													
													<!-- 解析 -->
													<div class="analy_divs">
														<div class="analy-left"><span class="tip_span viewdetail-analy">解析</span></div>
														<div class="analy-right"><span>${qi.keyword}</span></div>
														<div class="nofl"></div>
														<div class="recorderwrap" recpath="${qi.ques_rec}"></div>
														<div class="nofl"></div>
													</div>
													
													<!-- 考点 -->
													<div class="analy_divs">
														<div class="analy-left"><span class="tip_span viewdetail-knowledge">考点</span></div>
														<div class="analy-right">
														<#if qi.knowledge_point??>
														<#list qi.knowledge_point as kp>
															<div class="knowledgepointdiv-nodelete" kpid="${kp.kpId}" title="${kp.kpPath}">${kp.kpName}</div>
														</#list>
														</#if>
														</div>
														<div class="nofl"></div>
													</div>
													
													<#if qi.QUES_TYPE!='4' && qi.QUES_TYPE!='5'>
													<!-- 选过 -->
													<div class="analy_divs">
														<div class="analy-left"><span class="tip_span viewdetail-doubtopts">选过</span></div>
														<div class="analy-right">
															<span>
															<#list qi.doubt_options as opt>
																<#if opt==1>
																${qi.opt_no[opt_index]}
																</#if>
															</#list>
															</span>
														</div>
														<div class="nofl"></div>
													</div>
													</#if>
													
													<div class="paperx_diff analy_divs">
														<div class="paperx_zsdl">难度</div>
														<div class="difficultywrap">
															<div class="difficulty fl"><#if qi.difficulty??>${qi.difficulty}<#else>1.0</#if></div>
													    	<div class="selectwrap fl">
													        	<span class="simplespan fl">简单</span>
													            <div class="fl">
													            	<div class="selectdiv">
													                	<div class="selectdot" style="left:<#if qi.difficulty??>${(qi.difficulty-1)*96/4}<#else>0</#if>px"></div>
													                </div>
													            </div>
													            <span class="diffspan fl">困难</span>
													        </div>
													        <div class="nofl"></div>
														</div>
													</div>
												</div>
											</div>
											<#if qi.QUES_TYPE=='4' || qi.QUES_TYPE=='5'>
											<div class="viewdetail-commentcontainer">
												<div class="viewdetail-title">评语：</div>
												<div class="struct-comment test_box4">${qi.teacher_comment}</div>
												<div class="nofl"></div>
												<div class="recorderwrap" recpath="${qi.comment_rec}"></div>
												<div class="nofl"></div>
											</div>
											</#if>
										</div>
									</div>
								</div>
							<div class="nofl"></div>
						</li>
					<#else>
						<#if qi?size&gt;0>
							<li>
								<div class='paperxt_stx'>
								<#list qi as tkl>
									<#if tkl.QUES_TYPE==6>
										<#assign articleUlId=tkl.QUES_ID?c>
										<#--文章内容部分-->
										<div class="article_area">
											<div class='articletip'>（材料）</div>
											<div remark='article' class="questionItme paperxt_com test_box6 equlabel"  type="artlic" artid=${tkl.QUES_ID?c}>${tkl.QUES_CONTENT}</div>
											<div class="ques_collectwrap">
												<#if tkl.fav_flag==0>
													<a class="ques_collect">收藏</a>
												<#else>
													<a class="ques_cancelcollect">取消</a>
												</#if>
											</div>
										</div>
										<div class="nofl"></div>
									</#if>
								</#list>
								</div>
								<div class='paperxt_bot'>
									<ul id=${"ul"+articleUlId+"a"}>
										<#list qi as tkl>
											<#if tkl.QUES_TYPE!=6>
												<li id=${tkl.QUES_ID?c} questype="${tkl.QUES_TYPE?c}">
													<div class="paperx_tl">
														<dl>
															<dt>
																<div class="allNum" mTopic="${tkl.M_TOPIC}">${tkl.M_TOPIC}</div>
																<div type="title" class="paperx_tlxr" quesid=${tkl.QUES_ID?c}>
																	<div type='title' class='ttxt test_box' >
																		${tkl.QUES_CONTENT}
																	</div>
																</div>
																<div class="nofl"></div>
															</dt>
															<#if tkl.QUES_TYPE=='1' || tkl.QUES_TYPE=='2'>
																<#list tkl.OPT_CONTENT as optContent>
																	<#list tkl.OPT_ID as optId>
																		<#if optContent_index==optId_index>
																			<dd class='test_box2_bgc'>
																				<div class="pap_tlt">${tkl.OPT_NO[optId_index]+"."}</div>
																				<div type="option" class="pap_tct questionItme" optid=${optId?c}>
																					<div class='ttxt test_box2'>${optContent}</div>
																				</div>
																				<div class="nofl"></div>
																			</dd>
																		</#if>
																	</#list> 
																</#list> 
															</#if>
														</dl>
														<div class="paperx_btda">
															<#-- 普通小题 -->
															<#if tkl.QUES_TYPE!='4' && tkl.QUES_TYPE!='5'>
																<div class="viewdetail-stuanswers">
																	<#if tkl.STUDENT_ANSWER=="@#@#">
																	<img class="viewdetail-duicuoimg" src="<@spring.url '/images/examsystem/gradePaper_right.png'/>"/>
																	<div class="viewdetail-answers">
																		正确答案是 <span>${tkl.QUES_REFER ?replace("@@", "、")}</span>，回答正确，作答用时${tkl.format_time}
																	</div>
																	<#else>
																	<img class="viewdetail-duicuoimg" src="<@spring.url '/images/examsystem/gradePaper_fault.png'/>" />
																	<div class="viewdetail-answers">
																		<#if tkl.STUDENT_ANSWER?? && tkl.STUDENT_ANSWER!="">
																		回答是 <span>${tkl.STUDENT_ANSWER ?replace("@@", "、")}</span>，
																		正确答案是 <span>${tkl.QUES_REFER ?replace("@@", "、")}</span>
																		，作答用时${tkl.format_time}
																		<#else>
																		你未作答，正确答案是 <span>${tkl.QUES_REFER ?replace("@@", "、")}</span>
																		，作答用时${tkl.format_time}
																		</#if>
																	</div>
																	</#if>
																	
																	<div class="nofl"></div>
																	<div class="viewdetail-openrefer"><span class="struct-opencmd">展开解析▼</span></div>
																</div>
															<#elseif tkl.QUES_TYPE=='4'>
																<div class="viewdetail-stuanswers">
																	<div class="viewdetail-title">学生答案（作答用时${tkl.format_time}）：</div>
																	<div class="paperx_tjx paperx_line_tjx">
																		<#assign index3=0 > <#--填空题的选项号索引-->
																		<#if tkl.STU_OSCORE??>
																			<#assign stuOScoreArr=tkl.STU_OSCORE ?split(",")>
																		</#if>
																		<#list tkl.OPT_NO as l>
																		<div class="paperxt_tjxb2">
																			<div class="viewdetail-gradecontainer struct-gradecontainer">
																				<#if stuOScoreArr?? && stuOScoreArr[l_index]==tkl.O_SCORE[l_index]>
																					<img alt="对" title="对" class="struct-grade-correct" src="<@spring.url '/images/examsystem/gradePaper_right.png'/>" />
																				<#else>
																					<img alt="错" title="错" class="struct-grade-false" src="<@spring.url '/images/examsystem/gradePaper_fault.png'/>" />
																				</#if>
																			</div>
																			<div class="cleanBoth">
																				<span class="tkNum">${l}</span>
																				<#assign lineContent="">
																				<#if tkl.STUDENT_ANSWER??>
																					<#list tkl.STUDENT_ANSWER?split("@@") as sa>
																						<#if sa?starts_with(l+"##")>
																							<#assign lineContent=sa?substring(sa?index_of("##")+2)>
																						</#if>
																					</#list>
																				</#if>
																				<div class='test_box4 test_bg' optId="${tkl.OPT_ID[l_index]?c}"><#if lineContent!="">${lineContent}<#else>你未作答</#if></div>
																			</div>
																			<div class="nofl"></div>
																		</div>
																		<#assign index3=index3+1>
																		</#list>
																	</div>
																	<div class="nofl"></div>
																	<div class="viewdetail-openrefer"><span class="struct-opencmd">展开解析▼</span></div>
																</div>
															<#elseif tkl.QUES_TYPE=='5'>
																<div class="viewdetail-stuanswers">
																	<div class="viewdetail-title">学生答案（作答用时${tkl.format_time}）：</div>
																	<div>
																		<div class="paperxt_tjxb2">
																			<div class="cleanBoth">
																				<div class="viewdetail-gradecontainer">
																					<#if tkl.STU_SCORE=tkl.SCORE>
																						<img alt="对" title="对" class="struct-grade-correct" src="<@spring.url '/images/examsystem/gradePaper_right.png'/>" />
																					<#else>
																						<img alt="错" title="错" class="struct-grade-false" src="<@spring.url '/images/examsystem/gradePaper_fault.png'/>" />
																					</#if>
																				</div>
																				<div class='test_box5 test_bg'><#if tkl.STUDENT_ANSWER!="">${tkl.STUDENT_ANSWER}<#else>你未作答</#if></div>
																			</div>
																		</div>
																	</div>
																	<div class="nofl"></div>
																	<div class="viewdetail-openrefer"><span class="struct-opencmd">展开解析▼</span></div>
																</div>
															</#if>
															<!-- 小题解析 -->
															<div class="analys_container">
																<#if tkl.QUES_TYPE=='4'>
																<div class="viewdetail-referanswer">
																	<div class="viewdetail-title">参考答案：</div>
																	<div class="paperx_tjx paperx_line_tjx">
																		<#assign index3=-1 > <#--填空题的选项号索引-->
																		<#list tkl.OPT_REFER as l>
																		<#assign index3=index3+1>
																		<div class="paperxt_tjxb2">
																			<div class="cleanBoth">
																				<span class="tkNum">${tkl.OPT_NO[index3]}</span>
																				<div class='test_box4'>${l}</div>
																			</div>
																		</div>
																		</#list>
																	</div>
																	<div class="nofl"></div>
																</div>
																<#elseif tkl.QUES_TYPE=='5'>
																<div class="viewdetail-referanswer">
																	<div class="viewdetail-title">参考答案：</div>
																	<div>
																		<div class="paperxt_tjxb2">
																			<div class="cleanBoth">
																				<div class='test_box5 viewdetail-refer-type5'>${tkl.QUES_REFER}</div>
																			</div>
																		</div>
																	</div>
																	<div class="nofl"></div>
																</div>
																</#if>
																
																<div class="analys-analy">
																	<div class="viewdetailanalys-analycontainer">
																		<!-- 统计 -->
																		<div class="analy_divs">
																			<div class="analy-left"><span class="tip_span viewdetail-statistic">统计</span></div>
																			<div class="analy-right">
																				<span>本题共被作答${tkl.ques_total_num}次，正确率为${tkl.CORRECT_PERCENT}
																					<!-- 对易错项的处理，只有单选和多选有易错项 -->
																					<#if tkl.QUES_TYPE=='1' || tkl.QUES_TYPE=='2'>
																						<#if tkl.ERROR_NUM!=0>
																							，易错项为${tkl.EASY_ERROR_OPT}
																						<#else>
																							，暂无易错项
																						</#if>
																					</#if>
																				</span>
																			</div>
																			<div class="nofl"></div>
																		</div>
																		
																		<!-- 解析 -->
																		<div class="analy_divs">
																			<div class="analy-left"><span class="tip_span viewdetail-analy">解析</span></div>
																			<div class="analy-right"><span>${tkl.keyword}</span></div>
																			<div class="nofl"></div>
																			<div class="recorderwrap" recpath="${tkl.ques_rec}"></div>
																			<div class="nofl"></div>
																		</div>
																		
																		<!-- 考点 -->
																		<div class="analy_divs">
																			<div class="analy-left"><span class="tip_span viewdetail-knowledge">考点</span></div>
																			<div class="analy-right">
																			<#if tkl.knowledge_point??>
																			<#list tkl.knowledge_point as kp>
																				<div class="knowledgepointdiv-nodelete" kpid="${kp.kpId}" title="${kp.kpPath}">${kp.kpName}</div>
																			</#list>
																			</#if>
																			</div>
																			<div class="nofl"></div>
																		</div>
																		
																		<#if tkl.QUES_TYPE!='4' && tkl.QUES_TYPE!='5'>
																		<!-- 选过 -->
																		<div class="analy_divs">
																			<div class="analy-left"><span class="tip_span viewdetail-doubtopts">选过</span></div>
																			<div class="analy-right">
																				<span>
																				<#list tkl.doubt_options as opt>
																					<#if opt==1>
																					${tkl.opt_no[opt_index]}
																					</#if>
																				</#list>
																				</span>
																			</div>
																			<div class="nofl"></div>
																		</div>
																		</#if>
																		
																		<div class="paperx_diff analy_divs">
																			<div class="paperx_zsdl">难度：</div>
																			<div class="difficultywrap">
																				<div class="difficulty fl"><#if tkl.difficulty??>${tkl.difficulty}<#else>1.0</#if></div>
																		    	<div class="selectwrap fl">
																		        	<span class="simplespan fl">简单</span>
																		            <div class="fl">
																		            	<div class="selectdiv">
																		                	<div class="selectdot" style="left:<#if tkl.difficulty??>${(tkl.difficulty-1)*96/4}<#else>0</#if>px"></div>
																		                </div>
																		            </div>
																		            <span class="diffspan fl">困难</span>
																		        </div>
																		        <div class="nofl"></div>
																			</div>
																		</div>
																	</div>
																</div>
																<#if tkl.QUES_TYPE=='4' || tkl.QUES_TYPE=='5'>
																<div class="viewdetail-commentcontainer">
																	<div class="viewdetail-title">评语：</div>
																	<div class="struct-comment test_box4">${tkl.teacher_comment}</div>
																	<div class="nofl"></div>
																	<div class="recorderwrap" recpath="${tkl.comment_rec}"></div>
																	<div class="nofl"></div>
																</div>
																</#if>
															</div>
														</div>
													</div>
													<div class="nofl"></div>
												</li>
											</#if>
										</#list>
									</ul>
								</div>
							</li>
						</#if>
					</#if>
				</#list>
			</#if>
		</ul>
	</div>
</div>

<div class="viewdetail-hwcommentwrap">
	<div class="viewdetail-starwrap">
		<div class="viewdetail-tip">作业评价：</div>
		<div>
			<div class="equ viewdetail-hwcomment">${hwRecord.remark}</div>
			<div class="recorderwrap" recpath="${hwRecord.comment_rec}" style="margin-top:-25px;margin-left:-4px;"></div>
			<div class="nofl"></div>
		</div>
	</div>
	<div class="nofl"></div>
</div>
<!-- 答题卡 -->
<#include "homework/answerCard.htm" parse="true" encoding="UTF-8">
</div>
<#include "bottom.htm" parse="true" encoding="UTF-8" >
<#include "recorder.htm" parse="true" encoding="UTF-8" >
<script>
$(function(){
	var rootPath = "<@spring.url '' />";

	//******************************页面整体显示效果的设置*******************************
	//滚动条滚动时，让div一直显示在页面顶部
	var paperTopNode = $(".paper_top")[0];
	var startPos = $(paperTopNode).offset().top;
	$(window).scroll(function() {
		fixDiv(paperTopNode, startPos, "fixed", "largermargin");
		fixAnswerCard();
	});
	
	for(var i=0; i< ${hwRecord.star}; i++) {
		$($(".stuscoreimg").get(i)).attr("src", "<@spring.url '/images/star-full.png' />");
	}
	
	//点击“查看解析”显示小题解析，点击“收起解析”隐藏小题解析
	$(".viewdetail-openrefer").find(".struct-opencmd").each(function() {
		$(this).click(function() {
			var imgNode = $(this).find(".struct-openimg")[0];
			if($(this).html() == "展开解析▼") {
				$(this).html("收起解析▲");
				$($(this).parents("li")[0]).find(".analys_container").show();
			} else {
				$(this).html("展开解析▼");
				$($(this).parents("li")[0]).find(".analys_container").hide();
			}
		});
	});
	
	$("#Quit").click(function() {
		location.href = "<@spring.url '/homework/student/viewAnaly.html'/>";
	});
	
	//初始化加载后"收藏"按钮添加点击事件
	$(".ques_collect").each(function(){
		$(this).click(function(){
			var node = this;
			var quesId = 0;
			//判断是否有标记兄弟节点，如果有，说明是普通小题的收藏，否则，是材料的收藏
			if($(this).parent().hasClass("ques_collectwrap")) {
				quesId = $($($(this).parents(".article_area")[0]).find(".questionItme")[0]).attr("artid");
			} else {
				quesId = $($(this).parents("li")[0]).attr("id");
			}
			
			if($(this).hasClass("ques_collect")){
				$.ajax({
					type: "POST",
					contentType:"application/x-www-form-urlencoded",
					url: "<@spring.url '/collectQuestion.json'/>",
					data: {quesId:quesId},
					success: function(){
						$(node).css("color", "#FF0000").attr("class","ques_cancelcollect").html("取消");
				   	}
				});
			}else{
				$.ajax({
					type: "POST",
					contentType:"application/x-www-form-urlencoded",
					url: "<@spring.url '/cancelCollectQuestion.json'/>",
					data: {quesId:quesId},
					success: function(){
						$(node).css("color", "#888888").attr("class","ques_collect").html("收藏");
				   	}
				});
			}
		});
	});
	//初始化加载后“取消”按钮添加点击事件
	$(".ques_cancelcollect").each(function(){
		$(this).click(function(){
			var node = this;
			var quesId = 0;
			//判断父节点是否有某个类，如果有，说明是材料的收藏，否则，是普通小题的收藏
			if($(this).parent().hasClass("ques_collectwrap")) {
				quesId = $($($(this).parents(".article_area")[0]).find(".questionItme")[0]).attr("artid");
			} else {
				quesId = $($(this).parents("li")[0]).attr("id");
			}
			
			if($(this).hasClass("ques_collect")){
				$.ajax({
					type: "POST",
					contentType:"application/x-www-form-urlencoded",
					url: "<@spring.url '/collectQuestion.json'/>",
					data: {quesId:quesId},
					success: function(){
						$(node).css("color", "#FF0000").attr("class","ques_cancelcollect").html("取消");
				   	}
				});
			}else{
				$.ajax({
					type: "POST",
					contentType:"application/x-www-form-urlencoded",
					url: "<@spring.url '/cancelCollectQuestion.json'/>",
					data: {quesId:quesId},
					success: function(){
						$(node).css("color", "#888888").attr("class","ques_collect").html("收藏");
				   	}
				});
			}
		});
	});
	
	//*********************************答题卡的操作************************************
	//点击答题卡中的小题号
	$(".answercard-question").each(function(){
		$(this).click(function(){
			//得到小题的位置
			var liNode = $("#"+$(this).attr("quesid"));
			var x = $(liNode).offset().left;
			var y = $(liNode).offset().top-54;
			//将滚动条滚动到制定位置
			window.scrollTo(x, y);
		});
	});
	
	/****************************添加公式*********************************/
	//解答题和填空题做题的事件
	$(".equ").each(function() {
		//解码内容
		var html = decodeURIComponent($(this).html());
		//将页面加载的转换后的img标签转换回来
		$(this).html(changeImgToNormal(html, rootPath));
	});
	$(".struct-comment").each(function() {
		//解码内容
		var html = decodeURIComponent($(this).html());
		//将页面加载的转换后的img标签转换回来
		$(this).html(changeImgToNormal(html, rootPath));
	});
});
//****************************录音部分********************************
//给每个小题添加播放录音功能
$(".paperx_tl").each(function(index) {
	addRecorder(this, index);
});
addRecorder($(".viewdetail-hwcommentwrap"), new Date().getTime());//给整体作业添加播放录音功能
</script>